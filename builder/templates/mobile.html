<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>Main Page</title>
	<script src="https://maps.google.com/maps/api/js?libraries=geometry&sensor=false"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.0rc1/jquery.mobile-1.0rc1.min.js"></script>
	<script src="http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
    <!--<script type="text/javascript" charset="utf-8" src="http://code.jquery.com/mobile/latest/jquery.mobile.min.js"></script>-->
	<script src="/static/js/libs/StyledMarker.js"></script>
	<script src="/static/js/mobile.js"></script>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0rc1/jquery.mobile-1.0rc1.min.css" />
    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/latest/jquery.mobile.min.css" />-->
</head>
<body>
	<div data-role="page" data-theme="a" id="one">
		<div data-role="header">
			<h1>Wayfinder</h1>
		</div>
		<div data-role="content">
			<!--<div data-role="fieldcontain">-->
			<form action="" id="mobile-findpath" method="post">
				<ul data-role="listview" data-inset="true">
					<li data-role="list-divider">Choose start and destination</li>
					<li data-role="fieldcontain">
					<!--<label for="mobile-start" class="select">Start:</label>-->
					<select name="start" id="mobile-start">
						<option data-placeholder="true" value="">Current Position</option>
						{% for node in nodes %}	
						<option value="{{ node.lat }},{{ node.lng }}">{{ node.label }}</option>
						{% endfor %}
					</select>
					</li>
					<li data-role="fieldcontain">
					<!--<label for="mobile-end" class="select">Dest:</label>-->
					<select name="end" id="mobile-end">
						{% for node in nodes %}	
						<option value="{{ node.label }}">{{ node.label }}</option>
						{% endfor %}
					</select>
					</li>
					<li data-role="fieldcontain">
						<p><a href="#two" data-theme="d" data-role="button" data-inline="true" data-icon="gear">Show Route</a></p>
					</li>
				</ul>
			</form>
			<!--</div>-->
		</div>
	</div> <!-- /page one -->

	<!-- Start of second page: #two --> 
	<div data-role="page" data-theme="a" data-add-back-btn="true" id="two">
		<div data-role="header">
			<h1>Your route</h1>
		</div>
		<div data-role="content" style="padding:0px;margin:0;">
			<div id="map_canvas" style="width:100%;height:350px;"></div>
		</div>
		<div data-role="footer">
			<div data-role="navbar">
				<ul>
					<li><a href="#route-popup" data-icon="info" data-rel="dialog" data-transition="pop">Route Details</a></li>
					<li><a href="#" data-icon="plus" id="mobile-track">Track Pos</a></li>
					<li><a href="#" data-icon="minus" id="mobile-track-stop">Stop Tracking</a></li>
				</ul>
			</div>
			<!--<div style="margin-left:10px;" data-role="controlgroup" data-type="horizontal">
				<a href="#route-popup" data-icon="info" data-role="button" data-rel="dialog" data-transition="pop">Route Details</a>	
				<a href="#" id="mobile-track" data-role="button">Track Pos</a>
				<a href="#" id="mobile-track-stop" data-role="button">Stop Tracking</a>
			</div>
			-->
			<!--<div id="route-details"></div>-->
		</div>
	</div><!-- /page two -->

	<!-- Start of third page: #route-popup --> 
	<div data-role="page" id="route-popup"> 
		<div data-role="header" data-theme="e"> 
			<h1>Route Details</h1> 
		</div><!-- /header --> 
	
		<div data-role="content" data-theme="d">	
			<div id="route-details"></div>
			<p><a href="" data-theme="d" data-inline="true" data-rel="back" data-role="button" data-icon="back">Back</a></p>
		</div><!-- /content --> 
	</div><!-- /page popup --> 
</body>
</html>
