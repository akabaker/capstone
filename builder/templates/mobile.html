<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>Main Page</title>
	<script src="https://maps.google.com/maps/api/js?libraries=geometry&sensor=false"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.0rc1/jquery.mobile-1.0rc1.min.js"></script>
    <!--<script type="text/javascript" charset="utf-8" src="http://code.jquery.com/mobile/latest/jquery.mobile.min.js"></script>-->
	<script src="/static/js/mobile.js"></script>
	<script src="/static/js/libs/jquery.ui.map.min.js"></script>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0rc1/jquery.mobile-1.0rc1.min.css" />
    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/latest/jquery.mobile.min.css" />-->

	<script type="text/javascript">
	/*
		$(function() {
			//var map = $('#map_canvas').gmap();
			var latlng = new google.maps.LatLng(38.94617, -92.32866);
			var myOptions = {
				zoom: 18,
				center: latlng,
				mapTypeId: google.maps.MapTypeId.SATELLITE
			};

			var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

			$("#two").live("pageshow", function() {
				google.maps.event.trigger(map, "resize");
				map.setOptions(myOptions);
			});
		});
	*/
	</script>
</head>
<body>
	<div data-role="page" data-theme="a" id="one">
		<div data-role="header">
			<h1>Wayfinder</h1>
		</div>
		<div data-role="content">
			<div data-role="fieldcontain">
				<form action="" id="mobile-findpath" method="post">
					<label for="mobile-start" class="select">Start:</label>
					<select name="start" id="mobile-start">
						<option data-placeholder="true" value="">Current Position</option>
						{% for node in nodes %}	
						<option value="{{ node.lat }},{{ node.lng }}">{{ node.label }}</option>
						{% endfor %}
					</select>
					<label for="mobile-end" class="select">Dest:</label>
					<select name="end" id="mobile-end">
						{% for node in nodes %}	
						<option value="{{ node.label }}">{{ node.label }}</option>
						{% endfor %}
					</select>
					<!--<a href="/m-map/" data-role="button" data-icon="gear">Show Route</a>-->
					<a href="#two" data-role="button" data-icon="gear">Show Route</a>
				</form>
			</div>
		</div>
	</div>
	<div data-role="page" data-theme="a" data-add-back-btn="true" id="two">
		<div data-role="header">
			<h1>Map</h1>
		</div>
		<div data-role="content" style="padding:0px;margin:0;">
			<div id="map_canvas" style="width:100%;height:350px;"></div>
		</div>
	</div>
</body>
</html>
